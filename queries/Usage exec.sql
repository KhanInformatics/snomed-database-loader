USE SNOMEDCT;
GO

DECLARE @RC int;
DECLARE @SnomedCodes nvarchar(max);

-- Set SNOMED codes (commaâ€‘separated list). Adjust delimiter if the proc expects spaces or another format.
-- NOTE: The token '7ud194007' in the provided list contains non-numeric characters and is likely a typo; left as-is for now.
SET @SnomedCodes = N'107557061000119108,1078001000000105,1089411000000104,1089421000000105,111297002,1153543002,1153544008,1153545009,1153546005,1153607003,1153608008,1153611009,1153612002,1153630009,1153631008,1153632001,1153633006,1153634000,1153638002,1155688007,1155689004,1155697006,1155698001,1155699009,1156016006,1156017002,1156018007,1156019004,1156027008,1156029006,116288000,1163482004,117776611000119102,1179360000,1197363004,1204189004,1204202004,12204031000119101,1231168008,125081000119106,1259499007,1260271009,1263550001,1269237007,1269238002,1269239005,1269240007,1269243009,1269244003,1269245002,1269246001,1269248000,1287890000,137592291000119101,140921000119102,14309005,152148641000119104,15978431000119106,16000351000119109,16000391000119104,16000431000119109,16000511000119103,16002031000119102,16002111000119106,16023751000119106,16023831000119107,16023911000119108,16023951000119109,16024071000119102,16024111000119109,16024151000119105,16024271000119107,16026951000119102,16026991000119107,16218291000119100,16371781000119100,16644541000119106,16644681000119102,16644981000119109,16661931000119102,16661971000119104,168747591000119109,16891111000119104,16896851000119101,16896891000119106,182960891000119101,188174841000119103,195165005,195167002,195168007,195169004,195185009,195186005,195189003,195190007,195209007,195210002,195211003,195212005,195213000,195216008,195217004,195230003,195772021000119105,20059004,20908003,230518009,230523009,230690007,230691006,230692004,230693009,230694003,230695002,230696001,230698000,230699008,230700009,230701008,230702001,230703006,230704000,230706003,230707007,230708002,230709005,230710000,230711001,230712008,230713003,230714009,230715005,239965291000119107,24654003,25133001,251770561000119107,272202251000119109,274100004,275434003,276219001,276220007,276221006,276222004,276722003,281240008,290641000119107,291511000119103,291521000119105,291531000119108,291541000119104,292851000119109,292861000119106,297138001,297778421000119102,302902003,302904002,307363008,307766002,307767006,308128006,329361000119107,329371000119101,329421000119107,329431000119105,329451000119104,329461000119102,329481000119106,329491000119109,329501000119102,329541000119100,329561000119101,329571000119107,329641000119104,329651000119102,330411000119109,330421000119102,330791000119108,346410121000119101,346674811000119104,371040005,371041009,373606000,384430101000119103,38595071000119104,40076141000119107,407573811000119100,413102000,413758000,422504002,426107000,426983002,432504007,444657001,46583221000119102,488408691000119104,49422009,496369931000119104,502836591000119106,511452481000119102,517253051000119105,52201006,5571000124103,56267009,563789641000119101,578968971000119100,57981008,58173271000119101,595899961000119100,63230211000119103,652287331000119104,655081461000119101,693158221000119105,71444005,720261501000119107,723082006,724424009,724429004,732330391000119107,732923001,734383005,734384004,734961002,734963004,734964005,734965006,738211801000119107,738478141000119101,75038005,75543006,759950981000119101,762005171000119101,762629007,762630002,762651004,762652006,769023031000119104,7713009,78569004,788310011000119109,788455001,788880006,788881005,788882003,788883008,788884002,806161651000119106,828066161000119106,849488701000119104,849579281000119106,851365731000119106,859422751000119101,86553761000119103,870544005,870579007,87555007,881694631000119107,898941951000119108,915141931000119109,931164671000119105,936648941000119105,939885431000119109,95454007,95457000,95460007,957319791000119104,99451000119105';

-- Execute stored procedure
EXEC @RC = [dbo].[GetSNOMEDUsageByPeriod] @SnomedCodes = @SnomedCodes;

-- (Optional) inspect return code
PRINT 'Return code: ' + CAST(@RC AS nvarchar(20));
GO